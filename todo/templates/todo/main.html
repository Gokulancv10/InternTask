{% extends 'todo/index.html' %}
{% load crispy_forms_tags %}


{% block content %}


	<div class="center-column">

		<h2 class="heading" style="text-align: center;">Hello {{ request.user.username }}, Here's your ToDo List</h2>
		
		<form action="" method="POST" id='form-create'>
			{% csrf_token %}
			<div style="text-align: center;">

				{{ todo_form.title }}
				
				<button type="submit" class="form-control btn btn-primary mb-3 mr-sm-2">Add Items</button>

			</div>
			
		</form>


		<h4 class="heading" style="text-align: center;">Upcoming ToDo Items</h4>
		
		<ul class="pagination justify-content-center">

			{% for i in pagi1.page_range %}

	    		<li class="page-item {% if i == page_num %} active {% endif %}">
	        			<a class="page-link" href="?page={{ i }}">{{ i }}</a>
	    		</li>

    		{% endfor %}
    	</ul>

		<div class="row">
	        <div class="col" id="upcomItem">
	            <ul class="list-group" id="upcomingItems">

	                {% for i in page_obj %}

						<li class="list-group-item list-group-item-primary mb-2" id="upcomingItem">{{ i.title }}

							<div class="float-right">

								<button type="submit" class="btn-sm btn-danger ml-2 mt-2 mr-2 mb-1"><a href="{% url 'delete_todo' i.id %}">Delete</a></button>
								
							</div>

							<div class="float-right">

								<button type="submit" class="btn-sm btn-success ml-2 mt-2 mr-2 mb-1" id="update_btn"><a href="{% url 'update_todo' i.id %}">Update</a></button>

							</div>

							<div class="float-right">
						
								<button type="submit" class="btn-sm btn-dark ml-2 mt-2 mr-2 mb-1" id="completed_btn"><a href="{% url 'completed_todo' i.id %}">Completed</a></button>

							</div>				
										
						</li>
							
                	{% endfor %}               		
                	
           		</ul>
           		
        	</div>
    	</div>

	</div>

	<div class="center-column">

    	<h4 class="heading" style="text-align: center;">Completed ToDo Items</h4>


		<ul class="pagination justify-content-center">

			{% for i in pagi2.page_range %}

	    		<li class="page-item {% if i == page_num2 %} active {% endif %}">
	        			<a class="page-link" href="?page={{ i }}">{{ i }}</a>
	    		</li>

    		{% endfor %}
    	</ul>

    	            		
        <ul class="list-group" id='compItems'>

            {% for i in page_obj2 %}<hr>

            	<li class="list-group-item list-group-item-primary mb-2" id="upcomingItem">{{ i.title }}

				<div class="float-right">

					<button type="submit" class="btn-sm btn-danger ml-2 mt-2 mr-2 mb-1"><a href="{% url 'delete_todo' i.id %}">Delete</a></button>
						
				</div>								

				<div class="float-right">

					<button type="submit" class="btn-sm btn-success ml-2 mt-2 mr-2 mb-1" ><a href="{% url 'update_todo' i.id %}">Update</a></button>

				</div>
            	</li>
        	{% endfor %}

   		</ul>

	</div>

{% endblock %}
